<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.sdml.info/srcML/src" xmlns:cpp="http://www.sdml.info/srcML/cpp" language="C#" dir="linq" filename="linq_cs">

<unit>
<decl_stmt><decl><type><name>Query</name></type> <name>query</name> =<init>
    <expr><linq><from>from <expr><name>vegetable</name> in <name>vegetables</name></expr></from>
    <orderby>orderby <expr><name>vegetable</name> <name>ascending</name></expr></orderby>
    <select>select <expr><name>vegetable</name></expr></select></linq></expr></init></decl>;</decl_stmt>
</unit>

<unit>
<decl_stmt><decl><type><name>Query</name></type> <name>query</name> =<init>
    <expr><linq><from>from <expr><name>vegetable</name> in <name>vegetables</name></expr></from>
    <orderby>orderby <expr><name>vegetable</name> <name>descending</name></expr></orderby>
    <select>select <expr><name>vegetable</name></expr></select></linq></expr></init></decl>;</decl_stmt>
</unit>

<unit>
<decl_stmt><decl><type><name>var</name></type> <name>studentQuery1</name> =<init>
    <expr><linq><from>from <expr><name>student</name> in <name>students</name></expr></from>
    <group>group <expr><name>student</name> by <name>student</name>.<name><name>Last</name><index>[<expr>0</expr>]</index></name></expr></group></linq></expr></init></decl>;</decl_stmt>
</unit>

<unit>
<decl_stmt><decl><type><name>var</name></type> <name>wordGroups1</name> =<init>
            <expr><linq><from>from <expr><name>w</name> in <name>words</name></expr></from>
            <group>group <expr><name>w</name> by <name><name>w</name><index>[<expr>0</expr>]</index></name> into <name>fruitGroup</name></expr></group>
            <where>where <expr><call><name><name>fruitGroup</name>.<name>Count</name></name><argument_list>()</argument_list></call> &gt;= 2</expr></where>
            <select>select <expr>new <block>{ <expr><name>FirstLetter</name> = <name>fruitGroup</name>.<name>Key</name></expr>, <expr><name>Words</name> = <name>fruitGroup</name>.<name>Count</name><argument_list>()</argument_list></expr> }</block></expr></select></linq></expr></init></decl>;</decl_stmt>
</unit>

<unit>
<decl_stmt><decl><type><name>var</name></type> <name>innerJoinQuery</name> =<init>
    <expr><linq><from>from <expr><name>category</name> in <name>categories</name></expr></from>
    <join>join <expr><name>prod</name> in <name>products</name> on <name>category</name>.<name>ID</name> equals <name>prod</name>.<name>CategoryID</name></expr></join>
    <select>select <expr>new <block>{ <expr><name>ProductName</name> = <name>prod</name>.<name>Name</name></expr>, <expr><name>Category</name> = <name>category</name>.<name>Name</name></expr> }</block></expr></select></linq></expr></init></decl>;</decl_stmt> <comment type="line">//produces flat sequence</comment>
</unit>

<unit>
<decl_stmt><decl><type><name>var</name></type> <name>earlyBirdQuery</name> =<init>
            <expr><linq><from>from <expr><name>sentence</name> in <name>strings</name></expr></from>
            <let>let <expr><name>words</name> = <name>sentence</name>.<name>Split</name><argument_list>(<argument>' '</argument>)</argument_list></expr></let>
            <from>from <expr><name>word</name> in <name>words</name></expr></from>
            <let>let <expr><name>w</name> = <call><name><name>word</name>.<name>ToLower</name></name><argument_list>()</argument_list></name></expr></let>
            <where>where <expr><name><name>w</name><index>[<expr>0</expr>]</index></name> == 'a' || <name><name>w</name><index>[<expr>0</expr>]</index></name> == 'e'
                || <name><name>w</name><index>[<expr>0</expr>]</index></name> == 'i' || <name><name>w</name><index>[<expr>0</expr>]</index></name> == 'o'
                || <name><name>w</name><index>[<expr>0</expr>]</index></name> == 'u'</expr></where>
            <select>select <expr><name>word</name></expr></select></linq></expr></init></decl>;</decl_stmt>
</unit>

</unit>
