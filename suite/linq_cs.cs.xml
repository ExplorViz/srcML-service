<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<unit xmlns="http://www.sdml.info/srcML/src" xmlns:cpp="http://www.sdml.info/srcML/cpp" language="C#" dir="linq" filename="linq_cs">

<unit>
<decl_stmt><decl><type><name>Query</name></type> <name>query</name> =<init>
    <expr><linq><from>from <name>vegetable</name> in <name>vegetables</name></from>
    <orderby>orderby <name>vegetable</name> <name>ascending</name></orderby>
    <select>select <name>vegetable</name></select></linq></expr></init></decl>;</decl_stmt>
</unit>

<unit>
<decl_stmt><decl><type><name>Query</name></type> <name>query</name> =<init>
    <expr><linq><from>from <name>vegetable</name> in <name>vegetables</name></from>
    <orderby>orderby <name>vegetable</name> <name>descending</name></orderby>
    <select>select <name>vegetable</name></select></linq></expr></init></decl>;</decl_stmt>
</unit>

<unit>
<decl_stmt><decl><type><name>var</name></type> <name>studentQuery1</name> =<init>
    <expr><linq><from>from <name>student</name> in <name>students</name></from>
    <name>group</name> <name>student</name> <name>by</name> <name>student</name>.<name><name>Last</name><index>[<expr>0</expr>]</index></name></linq></expr></init></decl>;</decl_stmt>
</unit>

<unit>
<decl_stmt><decl><type><name>var</name></type> <name>wordGroups1</name> =<init>
            <expr><linq><from>from <name>w</name> in <name>words</name></from>
            <name>group</name> <name>w</name> <name>by</name> <name><name>w</name><index>[<expr>0</expr>]</index></name> <name>into</name> <name>fruitGroup</name>
            <name>where</name> <call><name><name>fruitGroup</name>.<name>Count</name></name><argument_list>()</argument_list></call> &gt;= 2
            <select>select new <block>{ <expr><name>FirstLetter</name> = <name>fruitGroup</name>.<name>Key</name></expr>, <expr><name>Words</name> = <name>fruitGroup</name>.<name>Count</name><argument_list>()</argument_list></expr> }</block></select></linq></expr></init></decl>;</decl_stmt>
</unit>

<unit>
<decl_stmt><decl><type><name>var</name></type> <name>innerJoinQuery</name> =<init>
    <expr><linq><from>from <name>category</name> in <name>categories</name></from>
    <name>join</name> <name>prod</name> in <name>products</name> <name>on</name> <name>category</name>.<name>ID</name> <name>equals</name> <name>prod</name>.<name>CategoryID</name>
    <select>select new <block>{ <expr><name>ProductName</name> = <name>prod</name>.<name>Name</name></expr>, <expr><name>Category</name> = <name>category</name>.<name>Name</name></expr> }</block></select></linq></expr></init></decl>;</decl_stmt> <comment type="line">//produces flat sequence</comment>
</unit>

<unit>
<decl_stmt><decl><type><name>var</name></type> <name>earlyBirdQuery</name> =<init>
            <expr><linq><from>from <name>sentence</name> in <name>strings</name></from>
            <name>let</name> <name>words</name> = <name>sentence</name>.<name>Split</name><argument_list>(<argument>' '</argument>)</argument_list>
            <from>from <name>word</name> in <name>words</name></from>
            <name>let</name> <name>w</name> = <name>word</name>.<name>ToLower</name><argument_list>()</argument_list>
            <name>where</name> <name><name>w</name><index>[<expr>0</expr>]</index></name> == 'a' || <name><name>w</name><index>[<expr>0</expr>]</index></name> == 'e'
                || <name><name>w</name><index>[<expr>0</expr>]</index></name> == 'i' || <name><name>w</name><index>[<expr>0</expr>]</index></name> == 'o'
                || <name><name>w</name><index>[<expr>0</expr>]</index></name> == 'u'
            <select>select <name>word</name></select></linq></expr></init></decl>;</decl_stmt>
</unit>

</unit>
