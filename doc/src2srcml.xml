<refentry>
<refentryinfo>
    <date>2006-01-04</date>
</refentryinfo>
<refmeta>
  <refentrytitle><application>src2srcml</application></refentrytitle><manvolnum>1</manvolnum><refmiscinfo>src2srcml 1.0</refmiscinfo>
</refmeta>
<refnamediv>
  <refname><application>src2srcml</application></refname><refpurpose>translates source code into the XML source-code representation srcML</refpurpose>
</refnamediv>
<refsynopsisdiv>
  <refsynopsisdivinfo>
    <date>2001-01-01</date>
  </refsynopsisdivinfo>
  <cmdsynopsis>
    <command>src2srcml</command>
<arg><option>-l </option><replaceable class="parameter">language</replaceable></arg>
<arg><option>-f <replaceable class="parameter">filename</replaceable></option></arg>
<arg><option>-d <replaceable class="parameter">directory</replaceable></option></arg>
<arg><option>-t <replaceable class="parameter">encoding</replaceable></option></arg>
<arg><option>-x <replaceable class="parameter">encoding</replaceable></option></arg>
<arg><option>-nizcgv </option></arg>
<arg rep="repeat"><replaceable class="parameter">input-source-code-file(s)</replaceable></arg>
<arg><replaceable class="parameter">output-srcML-file</replaceable></arg>
  </cmdsynopsis>
</refsynopsisdiv>
<refsect1>
  <refsect1info>
    <date>2006-01-04</date>
  </refsect1info>
  <title>DESCRIPTION</title>
  <para>
    The program <command>src2srcml</command> translates source-code files into the XML source-code representation srcML.  The srcML format
    allows for full XML addressing, querying, and transformation of source code.
  </para>
  <para>
    All text from the original source-code file is preserved including white-space, comments and preprocessor
    statements.  No preprocessing of the source code is done.  In addition it can be applied to invidual source-code files, or code
    fragments.
  </para>
  <para>
    The translation is fast and uses a stream-parsing approach where parsing is done top-down and elements are issued as soon
    as they are detected.
  </para>
  <para>
    Some options are only available in the libxml2 version.
  </para>
</refsect1>
<refsect1>
  <title>OPTIONS</title>
  <variablelist>
    <varlistentry>
      <term>-h, --help</term>
      <listitem>
	<para>
	  Output the help and exit.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>-V, --version</term>
      <listitem>
	<para>
	  Output the version of src2srcml and whether libxml2 enabled, then exit.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>-l, --language=<replaceable class="parameter">language</replaceable></term>
      <listitem>
	<para>
	  Set the language of the source-code file to <replaceable>language</replaceable>.
	  This affects parsing, the allowed markup, and what is considered a keyword.  The default
	  is CPP.  The value is also stored as an attribute of the root unit element.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>-d, --directory=<replaceable class="parameter">directory</replaceable></term>
      <listitem>
	<para>
	  The unit element includes an optional descriptive attribute directory.  The value is typically obtained from
	  the path of the input filename.  This option allows you to specify a different directory for standard
	  input or where the directory is not contained in the path of the input filename.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>-f, --filename=<replaceable class="parameter">filename</replaceable></term>
      <listitem>
	<para>
	  The unit element includes an optional descriptive attribute filename.  The value is typically obtained from
	  the input filename.  This option allows you to specify a different filename for standard
	  input or where a different filename is wanted.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>-s, --src-version=<replaceable class="parameter">version</replaceable></term>
      <listitem>
	<para>
	  The unit element includes the version, an optional, purely-descriptive attribute.
	  Sets the value of the attribute version to <replaceable>version</replaceable>.  The value is a string with no interpretation
	  by the srcML tools.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>-t, --src-encoding=<replaceable class="parameter">encoding</replaceable></term>
      <listitem>
	<para>
	  Sets the input encoding of the source-code file to <replaceable>encoding</replaceable>.  The default is based on the locale.
	  Not stored, but used for any necessary source-code text translation in the libxml2-enabled version.  
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>-x, --xml-encoding=<replaceable class="parameter">encoding</replaceable></term>
      <listitem>
	<para>
	  Sets the xml encoding of the output srcML file to <filename>encoding</filename>.  The default is UTF-8.
	  Conversion to the xml encoding from the source encoding is only performed in the libxml2-enabled version.
	  Possible encodings with the libxml2-enabled version can be obtained by using the command <command>iconv -l</command>.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>-n, --nested</term>
      <listitem>
	<para>
	  Stores all input source files into one compound srcML document.  Default with --input-file mode.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>-i, --input-file</term>
      <listitem>
	<para>
	  Treats the input file as a list of source files.  The list has a single file on each line.  Each file is separately
	  translated and collectively stored into a single compound srcML document.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>-z, --compressed</term>
      <listitem>
	<para>
	  Output is in compressed, i.e., gzip, format.  Only available in the libxml2-enabled version.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>-c, --interactive</term>
      <listitem>
	<para>
	  Default is to use buffered output for speed.  For interactive applications output is issued as soon as parsed.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>-g, --debug</term>
      <listitem>
	<para>
	  When translation errors occur src2srcml preserves all text, but may issue incorrect markup.  In debug mode
	  the text with the translation error is marked with a special set of tags with the prefix srcerr
	  from the namesepace http://www.sdml.info/srcml/srcerr.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>-v, --verbose</term>
      <listitem>
	<para>
	  Verbose output in --input-file mode.
	</para>
      </listitem>
    </varlistentry>
  </variablelist>
</refsect1>
<refsect1>
  <title>USAGE</title>
  <para>
    To translate the C++ source-code file main.cpp into the srcML file main.cpp.xml:
  </para>
  <para>
    <command>src2srcml</command> main.cpp main.cpp.xml
  </para>
  <para>
    To translate a C source-code file main.c into the srcML file main.c.xml:
  </para>
  <para>
    <command>src2srcml</command> --language=C main.c main.c.xml
  </para>
  <para>
    To translate a Java source-code file main.java into the srcML file main.java.xml:
  </para>
  <para>
    <command>src2srcml</command> --language=Java main.java main.java.xml
  </para>
  <para>
    To specify the directory, filename, and version for an input file from standard input:
  </para>
  <para>
    <command>src2srcml</command> --directory=src --filename=main.cpp --version=1 - main.cpp.xml
  </para>
  <para>
    To translate a source-code file in ISO-8859-1 encoding into a srcML file with UTF-8 encoding:
  </para>
  <para>
    <command>src2srcml</command> --src-endocing=ISO-8859-1 --xml-encoding=UTF-8 main.cpp main.cpp.xml
  </para>
</refsect1>
<refsect1>
  <title>CAVEATS</title>
  <para>
    Translation is performed based on local information with no symbol table.  For non-CFG languages, i.e., C/C++, and with
    macros this may lead to incorrect markup.
  </para>
  <para>
    Line endings are normalized in XML and in the srcML format.
  </para>
</refsect1>
<refsect1>
  <title>BUGS</title>
  <para>
    Java language mode does not contain all of the Java 1.5 language elements.
  </para>
</refsect1>
<refsect1>
  <title>SEE ALSO</title>
  <para>
    <command>srcml2src</command>(1)
  </para>
</refsect1>
<refsect1>
  <title>AUTHOR</title>
  <para>
    <author>
      <firstname>Michael</firstname>
      <othername role="mi">L.</othername>
      <surname>Collard</surname>
      <contrib>Original author</contrib>
    </author>
    <author>
      <firstname>Huzefa</firstname>
      <surname>Kagdi</surname>
      <contrib>Original author</contrib>
    </author>
  </para>
</refsect1>
</refentry>