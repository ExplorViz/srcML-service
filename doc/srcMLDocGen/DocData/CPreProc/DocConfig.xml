<DocConfig lang="C" outputFile="CPreProc.md" title="C Preprocessor srcML">
   <Category title="C Preprocessor">

        <!-- #define and #undef -->
        <DocEntry title="#define">
            <Elements>
                <Element ns="cpp" name="define"/>
                <Subelement ns="cpp" name="directive" />
                <Subelement ns="cpp" name="macro" />
                <Subelement ns="cpp" name="value" />
            </Elements>

            <Example title="Trivial #define" file="CPreProc-define_undef_1.cpp">
                <XPath path="//cpp:define">
                    <Desc>Find all of the uses of `#define`.</Desc>
                </XPath>
                <XPath path="//cpp:define[cpp:macro/src:name[. = 'LENGTH']]">
                    <Desc>Find all macro definitions of a macro with the name `LENGTH`.</Desc>
                </XPath>
                <XPath path="//cpp:define/cpp:value">
                    <Desc>Find all values of all macro definitions.</Desc>
                </XPath>
            </Example>

            <Example title="#define used like a function" file="CPreProc-define_undef_2.cpp">
                <XPath path="//cpp:define[src:parameter_list]">
                    <Desc>Find all macro definitions which have parameters.</Desc>
                </XPath>
                <XPath path="//cpp:define/src:parameter_list/src:param">
                    <Desc>Get the names of all parameters within all macro declarations.</Desc>
                </XPath>
            </Example>

            <Example title="#define a variadic macro" file="CPreProc-define_undef_3.cpp">
                <XPath path="//cpp:define[src:parameter_list[ .//type:modifier = '...']]">
                    <Desc>Find all variadic macro definitions.</Desc>
                </XPath>
            </Example>

        </DocEntry>

        <DocEntry title="#undef">
            <Elements>
                <Element ns="cpp" name="undef"/>
                <Subelement ns="cpp" name="directive" />
                <Subelement name="name" />
            </Elements>
            <Example file="CPreProc-define_undef_4.cpp">

                <XPath path="//cpp:undef">
                    <Desc>Find all uses of `#undef`.</Desc>
                </XPath>

                <XPath path="//cpp:undef/src:name">
                    <Desc>Find the name of all undefined macros.</Desc>
                </XPath>
                <XPath path="//cpp:undef/src:name[.= //cpp:define/src:macro/src:name]">
                    <Desc>Find all macro names which are defined and undefined.</Desc>
                </XPath>

            </Example>
        </DocEntry>



        <!-- If & if related -->
        <DocEntry title="#if">
            <Elements>
                <Element ns="cpp" name="if"/>
                <Subelement ns="cpp" name="directive" />
                <Subelement name="expr" />
            </Elements>
            <Example file="CPreProc-if_2.cpp">

                <XPath path="//cpp:if">
                    <Desc>Find all uses of `#if`.</Desc>
                </XPath>

                <XPath path="//cpp:if/src:expr">
                    <Desc>Find all conditions used by `#if`.</Desc>
                </XPath>

            </Example>
        </DocEntry>

        <DocEntry title="#ifdef">
            <Elements>
                <Element ns="cpp" name="ifdef"/>
                <Subelement ns="cpp" name="directive" />
                <Subelement name="expr" />
            </Elements>
            <Example file="CPreProc-ifdef_1.cpp" >
                <XPath path="//cpp:ifdef">
                    <Desc>Find all uses of `#ifdef`.</Desc>
                </XPath>
            </Example>
        </DocEntry>

        <DocEntry title="#ifndef">

            <Elements>
                <Element ns="cpp" name="ifndef"/>
                <Subelement ns="cpp" name="directive" />
                <Subelement name="expr" />
            </Elements>

            <Example file="CPreProc-ifndef_1.cpp" >
                <XPath path="//cpp:ifndef">
                    <Desc>Find all uses of `#ifndef`.</Desc>
                </XPath>
            </Example>

        </DocEntry>

        <DocEntry title="#else">
            <Elements>
                <Element ns="cpp" name="else"/>
                <Subelement ns="cpp" name="directive" />
            </Elements>
            <Example file="CPreProc-else_1.cpp">
                <XPath path="//cpp:else">
                    <Desc>Find all uses of `#else`.</Desc>
                </XPath>
            </Example>
        </DocEntry>

        <DocEntry title="#elif">
            <Elements>
                <Element ns="cpp" name="elif"/>
                <Subelement ns="cpp" name="directive" />
                <Subelement name="expr" />
            </Elements>
            <Example file="CPreProc-elif_1.cpp">
                <XPath path="//cpp:elif">
                    <Desc>Find all uses of `#elif`.</Desc>
                </XPath>
                <XPath path="//cpp:elif/src:expr">
                    <Desc>Find all conditional expressions used with `#elif`.</Desc>
                </XPath>
            </Example>
        </DocEntry>

        <DocEntry title="#endif">
            <Elements>
                <Element ns="cpp" name="if"/>
                <Subelement ns="cpp" name="directive" />
            </Elements>
            <Example file="CPreProc-endif.c" >
                <XPath path="//cpp:endif">
                    <Desc>Find all uses of `#endif`.</Desc>
                </XPath>
            </Example>
        </DocEntry>


        <!-- Other -->
        <DocEntry title="#include">
            <Elements>
                <Element ns="cpp" name="include"/>
                <Subelement ns="cpp" name="directive" />
                <Subelement ns="cpp" name="file" />
            </Elements>
            <Example file="CPreProc-include.txt" >
                <XPath path="//cpp:include">
                    <Desc>Find all includes.</Desc>
                </XPath>

                <XPath path="//cpp:include[cpp:file/lit:literal[@type ='string']]">
                    <Desc>Find all include that use quotations.</Desc>
                </XPath>

                <XPath path="//cpp:include/cpp:file//text()">
                    <Desc>Find the names of all included files.</Desc>
                </XPath>

            </Example>
        </DocEntry>

        <DocEntry title="#pragma">
            <Elements>
                <Element ns="cpp" name="pragma"/>
                <Subelement ns="cpp" name="directive" />
            </Elements>
            <Example file="CPreProc-pragma.txt" >
                <XPath path="//cpp:pragma">
                    <Desc>Find all uses of `#pragma`.</Desc>
                </XPath>
            </Example>
        </DocEntry>

        <DocEntry title="#error">
            <Elements>
                <Element ns="cpp" name="error"/>
                <Subelement ns="cpp" name="value" />
            </Elements>
            <Example file="CPreProc_error.txt" >
                <XPath path="//cpp:error">
                    <Desc>Find all uses of `#error`.</Desc>
                </XPath>
            </Example>
        </DocEntry>

        <DocEntry title="#line">
            <Elements>
                <Element ns="cpp" name="line"/>
                <Subelement ns="cpp" name="directive" />
                <Subelement ns="cpp" name="number" />
            </Elements>
            <Example file="CPreProc-line.txt">
                <XPath path="//cpp:line">
                    <Desc>Find all uses of `#line`.</Desc>
                </XPath>
            </Example>
        </DocEntry>

    </Category>
</DocConfig>
