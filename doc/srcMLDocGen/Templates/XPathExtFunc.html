{% extends "Skeleton.html" %}
{% load DjangoHelpers %}
{% load GrammarFormatHelpers %}
{% block cssLinks %}<link rel="stylesheet" href="Style/XPathExtFuncInfo.css" />{% endblock %}

{% block body %}
    <h1>srcML XPath Extension Functions</h1>
    <table class="ToC">
        <thead>
            <tr>
                <th>Extension Function</th>
                {% for lang in doc.languages %}
                <th class="languageSupportHeader">{{lang}}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
        {% for extFunc in doc.extFuncs %}
            <tr>
                <td><a href="#{{extFunc.names|makeFunctionNameLink}}">{{extFunc.names|join:","}}</a></td>
                {% for lang in doc.languages %}
                    <td class="checkMarkCell">{% if lang|isIn:extFunc.langs %}&#x2713;{% else %}&nbsp;{% endif %}</td>
                {% endfor %}
            </tr>
        {% endfor %}
        </tbody>
    </table>

    {% for extFunc in doc.extFuncs %}
    <div class="displayedDocDefinition">
        <a id="{{extFunc.names|makeFunctionNameLink}}"></a>
        <div class="languagesDisplayDiv">
            {% include "GrammarTemplates/LanguagesTable.html" with doc=doc languages=extFunc.langs %}
        </div>
        <h2 class="title">{{extFunc.names|join:","}}</h2>
        <hr/>
        <div class="description">{{extFunc.desc|safe}}</div>
        {% if extFunc.examples|length > 0 %}
        <h3 class="subtitle">Examples</h3>
            {% for example in extFunc.examples %}
                <div class="xpathQueryExample">
                    <span class="xpathDesc">{{example.desc|safe}}</span>&nbsp;<code class="xpathExample">{{example.xpath|safe}}</code>
                </div>
            {% endfor %}
        {% endif %}
        <div class="worksOnTags">
            <h3 class="subtitle">Works With Tags:</h3>
            <ul>
                {%for tagName in extFunc.tags %}
                    <li><a href="{{gramarPageName}}#{{tagName|makeTagLink}}">{{tagName|makeDisplayableTag}}</a></li>
                {% endfor %}
            </ul>
        </div>
    </div>
    {% endfor %}
{% endblock %}
