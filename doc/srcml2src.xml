<!DOCTYPE refentry SYSTEM "option.dtd">

<refentry>
<refentryinfo>
    <date>2006-01-04</date>
</refentryinfo>
<refmeta>
  <refentrytitle><application>srcml2src</application></refentrytitle><manvolnum>1</manvolnum><refmiscinfo>srcml2src 1.0</refmiscinfo>
</refmeta>
<refnamediv>
  <refname><application>srcml2src</application></refname><refpurpose>translates the XML source-code representation srcML into source code and provides utility features for the srcML format</refpurpose>
</refnamediv>
<refsynopsisdiv>
  <refsynopsisdivinfo>
    <date>2001-01-01</date>
  </refsynopsisdivinfo>
  <cmdsynopsis>
    <command>srcml2src</command>
<arg><option>&LANGUAGE_FLAG_SHORT; </option></arg>
<arg><option>&FILENAME_FLAG_SHORT; </option></arg>
<arg><option>&DIRECTORY_FLAG_SHORT; </option></arg>
<arg><option>&ENCODING_FLAG_SHORT; </option></arg>
<arg><option>&TEXTENCODING_FLAG_SHORT; <replaceable class="parameter">encoding</replaceable></option></arg>
<arg><option>-nizcgv </option></arg>
<arg><replaceable class="parameter">input-srcML-file</replaceable></arg>
<arg><replaceable class="parameter">output-source-code-file</replaceable></arg>
  </cmdsynopsis>
</refsynopsisdiv>
<refsect1>
  <refsect1info>
    <date>2006-01-04</date>
  </refsect1info>
  <title>DESCRIPTION</title>
  <para>
    The program <command>srcml2src</command> translates from the XML source-code representation srcML into source code.  The srcML format
    allows for XML addressing, querying, and transformation of source code.
  </para>
  <para>
    The combination of src2srcml and srcml2src allows for full round-trip transformation of source-code files without any loss of comments,
    white space, and preprocessing statements.
  </para>
  <para>
    Conversion from the srcML format to source code is relatively straightforward.  All XML tags are removed and escaped characters are
    unescaped.  In addition, the special srcML element for a formfeed is converted back to a form-feed character (form-feed characters
    are not allowed in XML, even escaped).
  </para>
  <para>
    In addition to conversion, srcml2src provides various srcML utilities such as extracting metadata, extracting individual parts of compound
    srcML files, and extracting metadata from individual parts of compound srcML files.
  </para>
  <para>
    Using the character - in the place of an input source-code filename uses standard input, and in place of an output srcML file uses standard output.
  </para>
</refsect1>
<refsect1>
  <title>OPTIONS</title>
  <variablelist>
    <varlistentry>
      <term>&HELP_FLAG_SHORT;, &HELP_FLAG;</term>
      <listitem>
	<para>
	  Output the help and exit.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>&VERSION_FLAG_SHORT;, &VERSION_FLAG;</term>
      <listitem>
	<para>
	  Output the version of srcml2src and exit.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>&LANGUAGE_FLAG_SHORT;, &LANGUAGE_FLAG;</term>
      <listitem>
	<para>
	  Output the language of the srcML file as stored in the attribute language in the unit element
	  on standard output.
	  The language is the value of the attribute of the root element unit, unless
	  a particular unit is specified with the &UNIT_FLAG; option.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>&DIRECTORY_FLAG_SHORT;, &DIRECTORY_FLAG;</term>
      <listitem>
	<para>
	  Output the directory of the srcML file as stored in the attribute dir in the unit element
	  on standard output.
	  The directory is the value of the attribute of the root element unit, unless
	  a particular unit is specified with the &UNIT_FLAG; option.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>&FILENAME_FLAG_SHORT;, &FILENAME_FLAG;</term>
      <listitem>
	<para>
	  Output the filename of the srcML file as stored in the attribute filename in the unit element
	  on standard output.
	  The filename is the value of the attribute of the root element unit, unless
	  a particular unit is specified with the &UNIT_FLAG; option.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>&SRCVERSION_FLAG_SHORT;, &SRCVERSION_FLAG;</term>
      <listitem>
	<para>
	  Output the version of the srcML file as stored attribute version in the unit element
	  on standard output.
	  The version is the value of the attribute of the root element unit, unless
	  a particular unit is specified with the &UNIT_FLAG; option.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>&NESTED_FLAG_SHORT;, &NESTED_FLAG;</term>
      <listitem>
	<para>
	  Output the number of nested units in a compound srcML file on standard output.
	  Result is 0 if the srcML file is not compound.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>&UNIT_FLAG_SHORT;, &UNIT_FLAG;=<replaceable class="parameter">number</replaceable></term>
      <listitem>
	<para>
	  Refers to a specific nested unit in a compound srcML file.  The numbering starts at 1.  If the number is outside
	  of the range of nested units then the command is ignored.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>&XML_FLAG_SHORT;, &XML_FLAG;</term>
      <listitem>
	<para>
	  Output is in srcML format.  Used in combination with the &UNIT_FLAG; to output a particular nested
	  unit in XML.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>&EXPAND_FLAG_SHORT;, &EXPAND_FLAG;</term>
      <listitem>
	<para>
	  Extracts all units from a compound srcML file back into source-code files.  The directory and filename
	  used is based on that stored in the directory and filename attributes.  Any necessary subdirectories are
	  created and the file itself is created.  Any existing file with the same path will be overwritten.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>&TEXTENCODING_FLAG_SHORT;, &TEXTENCODING_FLAG;=<replaceable class="parameter">encoding</replaceable></term>
      <listitem>
	<para>
	  Sets the encoding used for the output text source-code files to <replaceable>encoding</replaceable>.
	  The default is based on the locale.
	</para>
      </listitem>
    </varlistentry>
    <varlistentry>
      <term>&VERBOSE_FLAG_SHORT;, &VERBOSE_FLAG;</term>
      <listitem>
	<para>
	  Verbose output to standard error.  Especially useful in &FILELIST_FLAG; mode.
	</para>
      </listitem>
    </varlistentry>
  </variablelist>
</refsect1>
<refsect1>
  <title>USAGE</title>
  <para>
    To translate the srcML file main.cpp.xml into the C++ source-code file main.cpp:
  </para>
  <para>
    <command>srcml2src</command> main.cpp.xml main.cpp
  </para>
  <para>
    To extract the language of the srcML file main.cpp.xml:
  </para>
  <para>
    <command>srcml2src</command> &LANGUAGE_FLAG; main.c.xml
  </para>
  <para>
    To extract the directory of the srcML file main.cpp.xml:
  </para>
  <para>
    <command>srcml2src</command> &DIRECTORY_FLAG; main.c.xml
  </para>
  <para>
    To extract the filename of the srcML file main.cpp.xml:
  </para>
  <para>
    <command>srcml2src</command> &FILENAME_FLAG; main.c.xml
  </para>
  <para>
    To extract the version of the srcML file main.cpp.xml:
  </para>
  <para>
    <command>srcml2src</command> &VERSION_FLAG; main.c.xml
  </para>
  <para>
    To extract the xml encoding of the srcML file main.cpp.xml:
  </para>
  <para>
    <command>srcml2src</command> &ENCODING_FLAG; main.c.xml
  </para>
</refsect1>
<refsect1>
  <title>CAVEATS</title>
  <para>
    Line endings are normalized in XML and in the srcML format.
  </para>
</refsect1>
<refsect1>
  <title>BUGS</title>
  <para>
    There may be some parts of XML unused in the srcML format (i.e., not generated by src2srcml) that are not output correctly.
  </para>
</refsect1>
<refsect1>
  <title>SEE ALSO</title>
  <para>
    <command>src2srcml</command>(1)
  </para>
</refsect1>
<refsect1>
  <title>AUTHOR</title>
  <para>Written by 
    <author>
      <firstname>Michael</firstname>
      <othername role="mi">L.</othername>
      <surname>Collard</surname>
      <contrib>Original author</contrib>
    </author> 
    and
    <author>
      <firstname>Huzefa</firstname>
      <surname>Kagdi</surname>
      <contrib>Original author</contrib>
    </author>
  </para>
</refsect1>
</refentry>